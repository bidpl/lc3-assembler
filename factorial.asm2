.ORIG X3000
LD R1,INPUT
LD R2,NEG1
LD R0,ZERO
LD R5,ZERO
ADD R3,R1,R2
ADD R3,R3,R2
OUTERLOOP ADD R4,R0,R3
INNERLOOP ADD R5,R5,R1
ADD R4,R4,R2
BRZP INNERLOOP
ADD R1,R0,R5
LD R5,ZERO
ADD R3,R3,R2
BRZP OUTERLOOP
STI R1,RESULT
TRAP X25
INPUT .FILL X0005
ZERO .FILL X0000
NEG1 .FILL XFFFF
RESULT .FILL X30FF
.END
